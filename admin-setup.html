<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Configuração do Administrador</title>
</head>
<body>
  <h1>Criação do Usuário Administrador</h1>
  <p>Esta página deve ser usada apenas uma vez para criar o primeiro administrador.</p>
  
  <script type="module">
    import { auth } from './firebase-config.js';
    import { createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

    async function createAdmin() {
      const email = prompt("Digite o e-mail do administrador:");
      const password = prompt("Digite a senha do administrador:");
      
      if (!email || !password) {
        alert("E-mail e senha são obrigatórios!");
        return;
      }
      
      try {
        await createUserWithEmailAndPassword(auth, email, password);
        alert("Administrador criado com sucesso!\n\nAgora você pode:\n1. Fechar esta página\n2. Deletar o arquivo admin-setup.html\n3. Acessar o sistema normalmente pelo login.html");
      } catch (error) {
        alert("Erro ao criar administrador: " + error.message);
      }
    }

    // Executa imediatamente ao carregar a página
    createAdmin();
  </script>
</body>
</html>
